<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—é–º–µ - –¢–µ—Ö–Ω–æ–ø–æ–ª–∏—Å –ú–æ—Å–∫–≤–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-weight: 400;
            background: #ffffff;
            min-height: 100vh;
            padding: 0;
            color: #4D4D4F;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
        }

        .header {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .logo {
            width: 350px;
            height: auto;
            flex-shrink: 0;
        }
        
        .logo img {
            width: 100%;
            height: auto;
        }

        .header-text h1 {
            color: #4D4D4F;
            margin-bottom: 8px;
            font-size: 2em;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: #4D4D4F;
            font-size: 0.95em;
            font-weight: 300;
            letter-spacing: 0.01em;
        }

        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 40px;
            border-bottom: 1px solid #e0e0e0;
        }

        .tab {
            padding: 14px 28px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 400;
            color: #4D4D4F;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            letter-spacing: 0.01em;
        }

        .tab.active {
            color: #D00E46;
            border-bottom-color: #D00E46;
            font-weight: 400;
        }

        .tab:hover {
            color: #D00E46;
            background: rgba(208, 14, 70, 0.02);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .section {
            background: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .section h2 {
            color: #4D4D4F;
            margin-bottom: 24px;
            font-size: 1.3em;
            font-weight: 700;
            letter-spacing: -0.01em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        button {
            background: #D00E46;
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 400;
            transition: all 0.2s ease;
            letter-spacing: 0.02em;
        }

        button:hover {
            background: #B00C3A;
        }

        button:active {
            transform: scale(0.98);
        }

        button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #C49A6C;
        }

        .btn-secondary:hover {
            background: #A88550;
        }

        .btn-success {
            background: #4D4D4F;
        }


        .btn-success:hover {
            background: #3a3a3c;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 24px;
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            border-color: #D00E46;
            box-shadow: 0 2px 8px rgba(208, 14, 70, 0.1);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: 700;
            color: #D00E46;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .stat-label {
            color: #4D4D4F;
            font-size: 0.85em;
            font-weight: 300;
            letter-spacing: 0.02em;
        }

        #skillsCloud {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 24px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            min-height: 200px;
        }

        .skill-tag {
            padding: 6px 16px;
            border-radius: 2px;
            background: #D00E46;
            color: white;
            font-weight: 400;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-block;
            letter-spacing: 0.02em;
        }

        .skill-tag:hover {
            background: #B00C3A;
        }

        .info {
            padding: 12px;
            border-radius: 2px;
            background: rgba(196, 154, 108, 0.1);
            color: #4D4D4F;
            border-left: 3px solid #C49A6C;
            font-size: 0.9em;
        }

        textarea {
            width: 100%;
            min-height: 200px;
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            font-family: inherit;
            font-size: 0.9em;
            resize: vertical;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #D00E46;
        }

        .resume-card {
            background: white;
            padding: 24px;
            border-radius: 2px;
            margin-bottom: 12px;
            border: 1px solid #e0e0e0;
            border-left: 3px solid #D00E46;
            transition: all 0.2s ease;
        }

        .resume-card:hover {
            border-left-width: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .resume-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .resume-filename {
            font-weight: 700;
            font-size: 1.05em;
            color: #4D4D4F;
            letter-spacing: -0.01em;
        }

        .score-badge {
            padding: 6px 18px;
            border-radius: 2px;
            font-weight: 700;
            font-size: 1.1em;
            color: white;
        }

        .score-excellent { background: #4D4D4F; }
        .score-good { background: #C49A6C; }
        .score-average { background: #4D4D4F; opacity: 0.7; }
        .score-poor { background: #D00E46; }

        .resume-details {
            color: #4D4D4F;
            margin-top: 12px;
            line-height: 1.7;
            font-size: 0.9em;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 12px;
        }

        .tag {
            background: rgba(208, 14, 70, 0.08);
            color: #D00E46;
            padding: 4px 12px;
            border-radius: 2px;
            font-size: 0.8em;
            font-weight: 400;
            letter-spacing: 0.02em;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 12px;
        }

        .progress-fill {
            height: 100%;
            background: #D00E46;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 8px;
            color: #4D4D4F;
            font-weight: 400;
            font-size: 0.85em;
            letter-spacing: 0.02em;
        }

        select, input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            font-size: 0.9em;
            transition: all 0.2s ease;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #D00E46;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #4D4D4F;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #D00E46;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: rgba(208, 14, 70, 0.08);
            color: #D00E46;
            padding: 16px;
            border-radius: 2px;
            margin-bottom: 20px;
            border-left: 3px solid #D00E46;
        }

        .success {
            background: rgba(77, 77, 79, 0.08);
            color: #4D4D4F;
            padding: 16px;
            border-radius: 2px;
            margin-bottom: 20px;
            border-left: 3px solid #4D4D4F;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .explanation {
            background: rgba(196, 154, 108, 0.1);
            padding: 12px;
            border-radius: 2px;
            margin-top: 12px;
            color: #4D4D4F;
            font-size: 0.85em;
            border-left: 3px solid #C49A6C;
            line-height: 1.6;
        }

        .status-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            background: white;
            min-width: 150px;
        }
        
        .status-select.new {
            border-color: #2196F3;
            color: #1976D2;
        }
        
        .status-select.in_review {
            border-color: #FF9800;
            color: #F57C00;
        }
        
        .status-select.rejected {
            border-color: #F44336;
            color: #D32F2F;
        }
        
        .status-select.accepted {
            border-color: #4CAF50;
            color: #388E3C;
        }
        
        .status-select:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(208, 14, 70, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <img src="/static/images/technopolis_logo.svg" alt="–¢–µ—Ö–Ω–æ–ø–æ–ª–∏—Å –ú–æ—Å–∫–≤–∞">
            </div>
            <div class="header-text">
                <h1>–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—é–º–µ</h1>
                <p class="subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π</p>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">–û–±–∑–æ—Ä</button>
            <button class="tab" onclick="showTab('scoring')">–°–∫–æ—Ä–∏–Ω–≥</button>
            <button class="tab" onclick="showTab('browse')">–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—é–º–µ</button>
            <button class="tab" onclick="showTab('pool')">–û–±—â–∏–π –±–∞–Ω–∫ —Ä–µ–∑—é–º–µ</button>
            <button class="tab" onclick="showTab('companies')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π</button>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –û–±–∑–æ—Ä -->
        <div id="overview" class="tab-content active">
            <div class="section">
                <h2>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <div class="action-buttons">
                    <button onclick="parseResumes()">–†–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—Å–µ —Ä–µ–∑—é–º–µ</button>
                    <button class="btn-success" onclick="loadStatistics()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                    <button class="btn-secondary" onclick="exportData('json')">–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                    <button class="btn-secondary" onclick="exportData('csv')">–í—ã–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü–µ–π</button>
                </div>
                <div id="parseStatus"></div>
            </div>

            <div class="section">
                <h2>–í–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–ª–æ—â–∞–¥–∫–∞–º</h2>
                
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø–ª–æ—â–∞–¥–∫–∞–º -->
                <div style="display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center; border-bottom: 2px solid #D00E46; padding-bottom: 10px;">
                    <button class="location-tab active" data-location="all" onclick="filterByLocation('all')" style="padding: 10px 20px; background: none; border: none; color: #D00E46; font-weight: 700; cursor: pointer; border-bottom: 3px solid #D00E46; transition: all 0.3s;">–í–°–ï</button>
                    <button class="location-tab" data-location="–ê–ª–∞–±—É—à–µ–≤–æ" onclick="filterByLocation('–ê–ª–∞–±—É—à–µ–≤–æ')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–ê–õ–ê–ë–£–®–ï–í–û</button>
                    <button class="location-tab" data-location="–ê–Ω–≥—Å—Ç—Ä–µ–º" onclick="filterByLocation('–ê–Ω–≥—Å—Ç—Ä–µ–º')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–ê–ù–ì–°–¢–†–ï–ú</button>
                    <button class="location-tab" data-location="–ú–∏–∫—Ä–æ–Ω" onclick="filterByLocation('–ú–∏–∫—Ä–æ–Ω')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–ú–ò–ö–†–û–ù</button>
                    <button class="location-tab" data-location="–ú–ò–≠–¢" onclick="filterByLocation('–ú–ò–≠–¢')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–ú–ò–≠–¢</button>
                    <button class="location-tab" data-location="–ü–µ—á–∞—Ç–Ω–∏–∫–∏" onclick="filterByLocation('–ü–µ—á–∞—Ç–Ω–∏–∫–∏')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–ü–ï–ß–ê–¢–ù–ò–ö–ò</button>
                    <button class="location-tab" data-location="–†—É–¥–Ω–µ–≤–æ" onclick="filterByLocation('–†—É–¥–Ω–µ–≤–æ')" style="padding: 10px 20px; background: none; border: none; color: #999; font-weight: 400; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s;">–†–£–î–ù–ï–í–û</button>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–µ -->
                <div id="locationStats" style="background: white; padding: 20px; border: 1px solid #e0e0e0; border-radius: 2px; margin-bottom: 20px;">
                    <div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>
                </div>
            </div>

            <div class="section">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–∞–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: white; padding: 20px; border: 1px solid #e0e0e0; border-radius: 2px;">
                        <h3 style="margin-bottom: 15px; color: #D00E46;">–í–∞–∫–∞–Ω—Å–∏–∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π</h3>
                        <div id="vacancySalaryStats" class="loading">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                        </div>
                    </div>
                    <div style="background: white; padding: 20px; border: 1px solid #e0e0e0; border-radius: 2px;">
                        <h3 style="margin-bottom: 15px; color: #C49A6C;">–û–∂–∏–¥–∞–Ω–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤</h3>
                        <div id="candidateSalaryStats" class="loading">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>–í–∞–∫–∞–Ω—Å–∏–∏ –∏ –æ—Ç–∫–ª–∏–∫–∏</h2>
                <div id="vacanciesWithApplications" class="loading">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
                </div>
            </div>

            <div class="section">
                <h2>–û–±–ª–∞–∫–æ –Ω–∞–≤—ã–∫–æ–≤</h2>
                <div id="skillsCloud" class="loading">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–≤—ã–∫–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –°–∫–æ—Ä–∏–Ω–≥ -->
        <div id="scoring" class="tab-content">
            <div class="section">
                <h2>–°–∫–æ—Ä–∏–Ω–≥ —Ä–µ–∑—é–º–µ –ø–æ –≤–∞–∫–∞–Ω—Å–∏–∏</h2>
                <p style="color: #666; margin-bottom: 15px;">
                    –í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–∏, –∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –∏ —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
                </p>
                <textarea id="vacancyText" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∑–¥–µ—Å—å...

–ù–∞–ø—Ä–∏–º–µ—Ä:
Backend Python Developer (Middle)

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –æ—Ç 2 –ª–µ—Ç
- Python, Django, Flask
- PostgreSQL, Redis
- Docker, Kubernetes
- REST API
"></textarea>
                <button onclick="scoreResumes()">üîç –ù–∞–π—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤</button>
            </div>

            <div id="scoringResults"></div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä -->
        <div id="browse" class="tab-content">
            <div class="section">
                <h2>üîç –§–∏–ª—å—Ç—Ä—ã</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
                        <select id="filterSpec" onchange="loadResumes()">
                            <option value="">–í—Å–µ</option>
                            <option value="–õ–æ–≥–∏—Å—Ç">–õ–æ–≥–∏—Å—Ç</option>
                            <option value="–¢–æ–∫–∞—Ä—å">–¢–æ–∫–∞—Ä—å</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ò–Ω–∂–µ–Ω–µ—Ä-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</option>
                            <option value="–í–æ–¥–∏—Ç–µ–ª—å –ø–æ–≥—Ä—É–∑—á–∏–∫–∞">–í–æ–¥–∏—Ç–µ–ª—å –ø–æ–≥—Ä—É–∑—á–∏–∫–∞</option>
                            <option value="–°–ª–µ—Å–∞—Ä—å">–°–ª–µ—Å–∞—Ä—å</option>
                            <option value="–ú–∞—Å—Ç–µ—Ä —É—á–∞—Å—Ç–∫–∞">–ú–∞—Å—Ç–µ—Ä —É—á–∞—Å—Ç–∫–∞</option>
                            <option value="–ì—Ä—É–∑—á–∏–∫">–ì—Ä—É–∑—á–∏–∫</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</option>
                            <option value="–°–≤–∞—Ä—â–∏–∫">–°–≤–∞—Ä—â–∏–∫</option>
                            <option value="–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω–∏–∫">–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω–∏–∫</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É</option>
                            <option value="–§—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫">–§—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>–ù–∞–≤—ã–∫</label>
                        <input type="text" id="filterSkill" placeholder="ERP, WMS..." onchange="loadResumes()">
                    </div>
                    <div class="filter-group">
                        <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç (–ª–µ—Ç)</label>
                        <input type="number" id="filterExp" placeholder="0" onchange="loadResumes()">
                    </div>
                    <div class="filter-group">
                        <label>–û–∂–∏–¥–∞–µ–º–∞—è –ó–ü –æ—Ç (—Ä—É–±.)</label>
                        <input type="number" id="filterSalary" placeholder="50000" onchange="loadResumes()">
                    </div>
                </div>
            </div>

            <div id="resumesList"></div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –û–±—â–∏–π –±–∞–Ω–∫ —Ä–µ–∑—é–º–µ -->
        <div id="pool" class="tab-content">
            <div class="section">
                <h2>–û–±—â–∏–π –±–∞–Ω–∫ —Ä–µ–∑—é–º–µ</h2>
                <p style="color: #666; margin-bottom: 20px;">–†–µ–∑—é–º–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ email –∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –ø–æ –≤—Å–µ–º –∫–æ–º–ø–∞–Ω–∏—è–º</p>
                
                <div class="filters">
                    <div class="filter-group">
                        <label>–ò—Å—Ç–æ—á–Ω–∏–∫</label>
                        <select id="poolFilterSource" onchange="loadGeneralPool()">
                            <option value="">–í—Å–µ</option>
                            <option value="email">Email</option>
                            <option value="rejected_application">–û—Ç–∫–∞–∑</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
                        <select id="poolFilterSpec" onchange="loadGeneralPool()">
                            <option value="">–í—Å–µ</option>
                            <option value="–õ–æ–≥–∏—Å—Ç">–õ–æ–≥–∏—Å—Ç</option>
                            <option value="–¢–æ–∫–∞—Ä—å">–¢–æ–∫–∞—Ä—å</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ò–Ω–∂–µ–Ω–µ—Ä-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</option>
                            <option value="–í–æ–¥–∏—Ç–µ–ª—å –ø–æ–≥—Ä—É–∑—á–∏–∫–∞">–í–æ–¥–∏—Ç–µ–ª—å –ø–æ–≥—Ä—É–∑—á–∏–∫–∞</option>
                            <option value="–°–ª–µ—Å–∞—Ä—å">–°–ª–µ—Å–∞—Ä—å</option>
                            <option value="–ú–∞—Å—Ç–µ—Ä —É—á–∞—Å—Ç–∫–∞">–ú–∞—Å—Ç–µ—Ä —É—á–∞—Å—Ç–∫–∞</option>
                            <option value="–ì—Ä—É–∑—á–∏–∫">–ì—Ä—É–∑—á–∏–∫</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</option>
                            <option value="–°–≤–∞—Ä—â–∏–∫">–°–≤–∞—Ä—â–∏–∫</option>
                            <option value="–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω–∏–∫">–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω–∏–∫</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞</option>
                            <option value="–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É">–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É</option>
                            <option value="–§—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫">–§—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫</option>
                        </select>
                    </div>
                </div>

                <div id="poolList"><div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div></div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π -->
        <div id="companies" class="tab-content">
            <div class="section">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º</h2>
                <p style="color: #666; margin-bottom: 20px;">–ê–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª–∏–∫–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏</p>
                
                <div id="companiesStats"><div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div></div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:5000/api';

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');

            if (tabName === 'browse' && !skipAutoLoad) {
                loadResumes();
            } else if (tabName === 'pool') {
                loadGeneralPool();
            } else if (tabName === 'companies') {
                loadCompaniesStats();
            }
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥
            skipAutoLoad = false;
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞–≤—ã–∫—É –∏–∑ –æ–±–ª–∞–∫–∞
        function filterBySkill(skillName) {
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelectorAll('.tab')[2].classList.add('active'); // –¢—Ä–µ—Ç—å—è –≤–∫–ª–∞–¥–∫–∞
            document.getElementById('browse').classList.add('active');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ –Ω–∞–≤—ã–∫—É
            document.getElementById('filterSkill').value = skillName;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑—é–º–µ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
            loadResumes();
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function filterBySpecialization(specName) {
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelectorAll('.tab')[2].classList.add('active'); // –¢—Ä–µ—Ç—å—è –≤–∫–ª–∞–¥–∫–∞
            document.getElementById('browse').classList.add('active');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            document.getElementById('filterSpecialization').value = specName;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑—é–º–µ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
            loadResumes();
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—é–º–µ
        async function parseResumes() {
            const status = document.getElementById('parseStatus');
            status.innerHTML = '<div class="loading"><div class="spinner"></div><p>–ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—é–º–µ... –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç</p></div>';

            try {
                const response = await fetch(`${API_BASE}/parse`, { method: 'POST' });
                const data = await response.json();

                if (data.success) {
                    status.innerHTML = `<div class="success">${data.message}. –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${data.total_resumes} —Ä–µ–∑—é–º–µ</div>`;
                    loadStatistics();
                    loadSalaryStats();
                    loadSkillsCloud();
                } else {
                    status.innerHTML = `<div class="error">–û—à–∏–±–∫–∞: ${data.error}</div>`;
                }
            } catch (error) {
                status.innerHTML = `<div class="error">–û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadStatistics() {
            const container = document.getElementById('statsContainer');
            container.innerHTML = '<div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>';

            try {
                const response = await fetch(`${API_BASE}/statistics`);
                const data = await response.json();

                if (data.success) {
                    const stats = data.statistics;
                    let html = '<div class="stats-grid">';
                    
                    html += `
                        <div class="stat-card">
                            <div class="stat-value">${stats.total_resumes}</div>
                            <div class="stat-label">–í—Å–µ–≥–æ —Ä–µ–∑—é–º–µ</div>
                        </div>
                    `;

                    for (const [spec, count] of Object.entries(stats.specializations)) {
                        html += `
                            <div class="stat-card">
                                <div class="stat-value">${count}</div>
                                <div class="stat-label">${spec}</div>
                            </div>
                        `;
                    }

                    html += '</div>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = `<div class="error">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥.</div>`;
                }
            } catch (error) {
                container.innerHTML = `<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</div>`;
            }
        }

        // –û–±–ª–∞–∫–æ –Ω–∞–≤—ã–∫–æ–≤
        async function loadSkillsCloud() {
            const container = document.getElementById('skillsCloud');
            container.innerHTML = '<div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>';

            try {
                const response = await fetch(`${API_BASE}/skills/top?limit=50`);
                const data = await response.json();

                if (data.success) {
                    const maxCount = Math.max(...data.skills.map(s => s.count));
                    let html = '';

                    data.skills.forEach(skill => {
                        const size = 0.8 + (skill.count / maxCount) * 1.5;
                        html += `<span class="skill-tag" style="font-size: ${size}em" 
                                      title="${skill.count} —Ä–µ–∑—é–º–µ - –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –ø–æ–∏—Å–∫–∞"
                                      onclick="filterBySkill('${skill.name}')">${skill.name}</span>`;
                    });

                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<div class="error">–ù–∞–≤—ã–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</div>';
                }
            } catch (error) {
                container.innerHTML = `<div class="error">–û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
        let vacancySalaryChart = null;
        let candidateSalaryChart = null;
        let industryChart = null;
        let industrySalaryChart = null;
        let companyVacanciesChart = null;
        let companyInternshipsChart = null;

        // –û—Ç—Ä–∞—Å–ª–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏
        const INDUSTRIES = {
            '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ —Å–∫–ª–∞–¥—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ': ['–õ–æ–≥–∏—Å—Ç', '–ö–ª–∞–¥–æ–≤—â–∏–∫', '–í–æ–¥–∏—Ç–µ–ª—å –ø–æ–≥—Ä—É–∑—á–∏–∫–∞', '–ì—Ä—É–∑—á–∏–∫'],
            '–ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ': ['–¢–æ–∫–∞—Ä—å', '–§—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫', '–°–ª–µ—Å–∞—Ä—å', '–°–ª–µ—Å–∞—Ä—å-—Ä–µ–º–æ–Ω—Ç–Ω–∏–∫', '–ù–∞–ª–∞–¥—á–∏–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è', '–ù–∞–ª–∞–¥—á–∏–∫'],
            '–ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏': ['–ò–Ω–∂–µ–Ω–µ—Ä-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä', '–ò–Ω–∂–µ–Ω–µ—Ä-—Ç–µ—Ö–Ω–æ–ª–æ–≥', '–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏', '–ò–Ω–∂–µ–Ω–µ—Ä –ü–¢–û'],
            '–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞': ['–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É', '–ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞', '–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –û–¢–ö'],
            '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ': ['–ú–∞—Å—Ç–µ—Ä —É—á–∞—Å—Ç–∫–∞', '–ù–∞—á–∞–ª—å–Ω–∏–∫ —Ü–µ—Ö–∞', '–ù–æ—Ä–º–∏—Ä–æ–≤—â–∏–∫'],
            '–°–≤–∞—Ä–æ—á–Ω—ã–µ –∏ –º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã': ['–°–≤–∞—Ä—â–∏–∫', '–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω–∏–∫']
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
        async function loadIndustryAnalytics() {
            try {
                const response = await fetch(`${API_BASE}/resumes`);
                const data = await response.json();

                if (data.success && data.resumes.length > 0) {
                    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
                    const industryData = {};
                    const industrySalaryData = {};

                    data.resumes.forEach(resume => {
                        const specs = resume.specializations || [];
                        const salary = resume.salary_from;

                        specs.forEach(spec => {
                            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Ç—Ä–∞—Å–ª—å
                            for (const [industry, specList] of Object.entries(INDUSTRIES)) {
                                if (specList.includes(spec)) {
                                    // –ü–æ–¥—Å—á–µ—Ç —Ä–µ–∑—é–º–µ
                                    industryData[industry] = (industryData[industry] || 0) + 1;
                                    
                                    // –ü–æ–¥—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç
                                    if (salary != null && !isNaN(salary) && salary > 0) {
                                        if (!industrySalaryData[industry]) {
                                            industrySalaryData[industry] = [];
                                        }
                                        industrySalaryData[industry].push(salary);
                                    }
                                    break;
                                }
                            }
                        });
                    });

                    // –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
                    const industryLabels = Object.keys(industryData);
                    const industryCounts = Object.values(industryData);

                    if (industryChart) industryChart.destroy();
                    const ctx1 = document.getElementById('industryChart').getContext('2d');
                    industryChart = new Chart(ctx1, {
                        type: 'doughnut',
                        data: {
                            labels: industryLabels,
                            datasets: [{
                                data: industryCounts,
                                backgroundColor: ['#D00E46', '#C49A6C', '#4D4D4F', '#E85D75', '#D4B896', '#6D6D6F']
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: { font: { size: 11 } }
                                }
                            }
                        }
                    });

                    // –ì—Ä–∞—Ñ–∏–∫ —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞—Ä–ø–ª–∞—Ç –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
                    const salaryLabels = [];
                    const salaryValues = [];

                    for (const [industry, salaries] of Object.entries(industrySalaryData)) {
                        if (salaries.length > 0) {
                            const avg = salaries.reduce((a, b) => a + b, 0) / salaries.length;
                            salaryLabels.push(industry);
                            salaryValues.push(Math.round(avg));
                        }
                    }

                    if (industrySalaryChart) industrySalaryChart.destroy();
                    const ctx2 = document.getElementById('industrySalaryChart').getContext('2d');
                    industrySalaryChart = new Chart(ctx2, {
                        type: 'bar',
                        data: {
                            labels: salaryLabels,
                            datasets: [{
                                label: '–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ (‚ÇΩ)',
                                data: salaryValues,
                                backgroundColor: '#D00E46'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: true,
                            indexAxis: 'y',
                            plugins: {
                                legend: { display: false }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function(value) {
                                            return value.toLocaleString('ru-RU') + ' ‚ÇΩ';
                                        }
                                    }
                                }
                            }
                        }
                    });
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º
        async function loadVacancySalaryStats() {
            const container = document.getElementById('vacancySalaryStats');
            try {
                const response = await fetch(`${API_BASE}/vacancies`);
                const data = await response.json();

                if (data.success && data.salary_stats && data.salary_stats.length > 0) {
                    let html = '<table style="width: 100%; border-collapse: collapse;">';
                    html += '<thead><tr style="background: #f5f5f5; border-bottom: 2px solid #D00E46;">';
                    html += '<th style="padding: 10px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th>';
                    html += '<th style="padding: 10px; text-align: right;">–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞</th>';
                    html += '<th style="padding: 10px; text-align: center;">–í–∞–∫–∞–Ω—Å–∏–π</th>';
                    html += '</tr></thead><tbody>';
                    
                    data.salary_stats.forEach(item => {
                        html += '<tr style="border-bottom: 1px solid #e0e0e0;">';
                        html += `<td style="padding: 10px;">${item.spec}</td>`;
                        html += `<td style="padding: 10px; text-align: right; font-weight: bold; color: #D00E46;">${Math.round(item.avg_salary).toLocaleString('ru-RU')} ‚ÇΩ</td>`;
                        html += `<td style="padding: 10px; text-align: center;">${item.count}</td>`;
                        html += '</tr>';
                    });
                    
                    html += '</tbody></table>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<p style="color: #999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö</p>';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º:', error);
                container.innerHTML = '<p style="color: #D00E46;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º
        async function loadCandidateSalaryStats() {
            const container = document.getElementById('candidateSalaryStats');
            try {
                const response = await fetch(`${API_BASE}/resumes`);
                const data = await response.json();

                if (data.success && data.resumes.length > 0) {
                    const salaryBySpec = {};
                    
                    data.resumes.forEach(resume => {
                        const salary = resume.salary_from;
                        if (salary != null && !isNaN(salary) && salary > 0 && resume.specializations) {
                            resume.specializations.forEach(spec => {
                                if (!salaryBySpec[spec]) salaryBySpec[spec] = [];
                                salaryBySpec[spec].push(salary);
                            });
                        }
                    });

                    const avgSalaries = [];
                    for (const [spec, salaries] of Object.entries(salaryBySpec)) {
                        if (salaries.length > 0) {
                            const avg = salaries.reduce((a, b) => a + b, 0) / salaries.length;
                            if (!isNaN(avg) && isFinite(avg)) {
                                avgSalaries.push({ spec, avg, count: salaries.length });
                            }
                        }
                    }

                    avgSalaries.sort((a, b) => b.avg - a.avg);

                    if (avgSalaries.length > 0) {
                        let html = '<table style="width: 100%; border-collapse: collapse;">';
                        html += '<thead><tr style="background: #f5f5f5; border-bottom: 2px solid #C49A6C;">';
                        html += '<th style="padding: 10px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th>';
                        html += '<th style="padding: 10px; text-align: right;">–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞</th>';
                        html += '<th style="padding: 10px; text-align: center;">–ö–∞–Ω–¥–∏–¥–∞—Ç–æ–≤</th>';
                        html += '</tr></thead><tbody>';
                        
                        avgSalaries.forEach(item => {
                            html += '<tr style="border-bottom: 1px solid #e0e0e0;">';
                            html += `<td style="padding: 10px;">${item.spec}</td>`;
                            html += `<td style="padding: 10px; text-align: right; font-weight: bold; color: #C49A6C;">${Math.round(item.avg).toLocaleString('ru-RU')} ‚ÇΩ</td>`;
                            html += `<td style="padding: 10px; text-align: center;">${item.count}</td>`;
                            html += '</tr>';
                        });
                        
                        html += '</tbody></table>';
                        container.innerHTML = html;
                    } else {
                        container.innerHTML = '<p style="color: #999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö</p>';
                    }
                } else {
                    container.innerHTML = '<p style="color: #999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º:', error);
                container.innerHTML = '<p style="color: #C49A6C;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π —Å –æ—Ç–∫–ª–∏–∫–∞–º–∏
        async function loadVacanciesWithApplications() {
            const container = document.getElementById('vacanciesWithApplications');
            try {
                const response = await fetch(`${API_BASE}/vacancies/with-applications`);
                const data = await response.json();

                if (data.success) {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
                    window.vacanciesData = data;
                    
                    // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫
                    let html = '<div class="stats-grid" id="vacanciesMainView">';
                    
                    html += `
                        <div class="stat-card" onclick="showAllVacanciesCards()" style="border: 2px solid #D00E46; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
                            <div class="stat-value">${data.total_vacancies}</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –≤–∞–∫–∞–Ω—Å–∏–π</div>
                        </div>
                        <div class="stat-card" style="border: 2px solid #C49A6C;">
                            <div class="stat-value">${data.total_applications}</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –æ—Ç–∫–ª–∏–∫–æ–≤</div>
                        </div>
                    `;

                    html += '</div>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<p style="color: #999;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π —Å –æ—Ç–∫–ª–∏–∫–∞–º–∏:', error);
                container.innerHTML = '<p style="color: #D00E46;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>';
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∫–ª–∏–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–∞–∫–∞–Ω—Å–∏—é
        async function showApplications(vacancyId, vacancyTitle, count) {
            if (count === 0) {
                alert('–ù–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é –ø–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/applications?vacancy_id=${vacancyId}`);
                const data = await response.json();

                if (data.success && data.applications.length > 0) {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
                    const modalId = 'modal_' + vacancyId.replace(/[^a-zA-Z0-9]/g, '_');
                    window[modalId + '_data'] = data.applications;
                    
                    let html = `
                        <div id="${modalId}" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000; display: flex; align-items: center; justify-content: center;" onclick="this.remove(); delete window['${modalId}_data'];">
                            <div style="background: white; padding: 30px; border-radius: 4px; max-width: 1000px; max-height: 80vh; overflow-y: auto; width: 90%;" onclick="event.stopPropagation()">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h2 style="color: #D00E46; margin: 0;">${vacancyTitle}</h2>
                                    <button onclick="this.closest('[style*=fixed]').remove(); delete window['${modalId}_data'];" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                                </div>
                                
                                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                                <div style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4D4D4F;">–ó–∞—Ä–ø–ª–∞—Ç–∞:</label>
                                            <select id="${modalId}_salary" onchange="filterApplications('${modalId}')" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 2px;">
                                                <option value="all">–í—Å–µ</option>
                                                <option value="high">–í—ã—Å–æ–∫–∞—è (> 80 000 ‚ÇΩ)</option>
                                                <option value="medium">–°—Ä–µ–¥–Ω—è—è (60-80 000 ‚ÇΩ)</option>
                                                <option value="low">–ù–∏–∑–∫–∞—è (< 60 000 ‚ÇΩ)</option>
                                                <option value="not_specified">–ù–µ —É–∫–∞–∑–∞–Ω–∞</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4D4D4F;">–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ:</label>
                                            <select id="${modalId}_match" onchange="filterApplications('${modalId}')" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 2px;">
                                                <option value="all">–í—Å–µ</option>
                                                <option value="high">–í—ã—Å–æ–∫–æ–µ (‚â• 80%)</option>
                                                <option value="medium">–°—Ä–µ–¥–Ω–µ–µ (60-79%)</option>
                                                <option value="low">–ù–∏–∑–∫–æ–µ (< 60%)</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4D4D4F;">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                                            <select id="${modalId}_sort" onchange="filterApplications('${modalId}')" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 2px;">
                                                <option value="match_desc">–ü–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é (‚Üì)</option>
                                                <option value="match_asc">–ü–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é (‚Üë)</option>
                                                <option value="salary_desc">–ü–æ –∑–∞—Ä–ø–ª–∞—Ç–µ (‚Üì)</option>
                                                <option value="salary_asc">–ü–æ –∑–∞—Ä–ø–ª–∞—Ç–µ (‚Üë)</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <p id="${modalId}_count" style="color: #666; margin-bottom: 20px;">–û—Ç–∫–ª–∏–∫–æ–≤: <strong>${data.applications.length}</strong></p>
                                <div id="${modalId}_table">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: #f5f5f5; border-bottom: 2px solid #D00E46;">
                                                <th style="padding: 10px; text-align: left;">–ö–∞–Ω–¥–∏–¥–∞—Ç</th>
                                                <th style="padding: 10px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</th>
                                                <th style="padding: 10px; text-align: center;">–û–ø—ã—Ç</th>
                                                <th style="padding: 10px; text-align: right;">–ó–∞—Ä–ø–ª–∞—Ç–∞</th>
                                                <th style="padding: 10px; text-align: center;">–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ</th>
                                                <th style="padding: 10px; text-align: center; width: 200px;">–°—Ç–∞—Ç—É—Å</th>
                                                <th style="padding: 10px; text-align: center;">–î–µ–π—Å—Ç–≤–∏—è</th>
                                            </tr>
                                        </thead>
                                        <tbody id="${modalId}_tbody">
                    `;

                    data.applications.forEach(app => {
                        const salary = app.salary_from ? `${app.salary_from.toLocaleString('ru-RU')} ‚ÇΩ` : '–ù–µ —É–∫–∞–∑–∞–Ω–∞';
                        const matchColor = app.match_score >= 80 ? '#4CAF50' : app.match_score >= 60 ? '#C49A6C' : '#999';
                        const currentStatus = app.status || 'new';
                        
                        html += `
                            <tr style="border-bottom: 1px solid #e0e0e0;">
                                <td style="padding: 10px;">${app.candidate_name}</td>
                                <td style="padding: 10px; font-size: 13px; color: #666;">${app.specializations.join(', ')}</td>
                                <td style="padding: 10px; text-align: center;">${app.experience_years} ${app.experience_years === 1 ? '–≥–æ–¥' : app.experience_years < 5 ? '–≥–æ–¥–∞' : '–ª–µ—Ç'}</td>
                                <td style="padding: 10px; text-align: right; font-weight: 600;">${salary}</td>
                                <td style="padding: 10px; text-align: center; font-weight: 700; color: ${matchColor};">${app.match_score}%</td>
                                <td style="padding: 10px; text-align: center;">
                                    <select class="status-select ${currentStatus}" onchange="updateApplicationStatus('${app.id}', this.value, this)">
                                        <option value="new" ${currentStatus === 'new' ? 'selected' : ''}>üîµ –ù–æ–≤—ã–π</option>
                                        <option value="in_review" ${currentStatus === 'in_review' ? 'selected' : ''}>üü† –í —Ä–∞–±–æ—Ç–µ</option>
                                        <option value="accepted" ${currentStatus === 'accepted' ? 'selected' : ''}>üü¢ –ü—Ä–∏–Ω—è—Ç</option>
                                        <option value="rejected" ${currentStatus === 'rejected' ? 'selected' : ''}>üî¥ –û—Ç–∫–∞–∑</option>
                                    </select>
                                </td>
                                <td style="padding: 10px; text-align: center;">
                                    <button onclick="downloadResume('${app.resume_filename}')" style="background: #C49A6C; color: white; border: none; padding: 6px 12px; border-radius: 2px; cursor: pointer; font-size: 12px; margin-right: 5px;">
                                        –°–∫–∞—á–∞—Ç—å
                                    </button>
                                </td>
                            </tr>
                        `;
                    });

                    html += `
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    `;

                    document.body.insertAdjacentHTML('beforeend', html);
                } else {
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∫–ª–∏–∫–æ–≤:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∫–ª–∏–∫–æ–≤');
            }
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∫–ª–∏–∫–æ–≤ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function filterApplications(modalId) {
            const allApplications = window[modalId + '_data'];
            if (!allApplications) return;

            // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
            const salaryFilter = document.getElementById(modalId + '_salary').value;
            const matchFilter = document.getElementById(modalId + '_match').value;
            const sortFilter = document.getElementById(modalId + '_sort').value;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            let filtered = allApplications.filter(app => {
                // –§–∏–ª—å—Ç—Ä –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ
                if (salaryFilter !== 'all') {
                    const salary = app.salary_from || 0;
                    if (salaryFilter === 'high' && salary <= 80000) return false;
                    if (salaryFilter === 'medium' && (salary < 60000 || salary > 80000)) return false;
                    if (salaryFilter === 'low' && salary >= 60000) return false;
                    if (salaryFilter === 'not_specified' && salary > 0) return false;
                }

                // –§–∏–ª—å—Ç—Ä –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
                if (matchFilter !== 'all') {
                    const match = app.match_score;
                    if (matchFilter === 'high' && match < 80) return false;
                    if (matchFilter === 'medium' && (match < 60 || match >= 80)) return false;
                    if (matchFilter === 'low' && match >= 60) return false;
                }

                return true;
            });

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
            filtered.sort((a, b) => {
                switch (sortFilter) {
                    case 'match_desc':
                        return b.match_score - a.match_score;
                    case 'match_asc':
                        return a.match_score - b.match_score;
                    case 'salary_desc':
                        return (b.salary_from || 0) - (a.salary_from || 0);
                    case 'salary_asc':
                        return (a.salary_from || 0) - (b.salary_from || 0);
                    default:
                        return 0;
                }
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
            let html = '';
            filtered.forEach(app => {
                const salary = app.salary_from ? `${app.salary_from.toLocaleString('ru-RU')} ‚ÇΩ` : '–ù–µ —É–∫–∞–∑–∞–Ω–∞';
                const matchColor = app.match_score >= 80 ? '#4CAF50' : app.match_score >= 60 ? '#C49A6C' : '#999';
                html += `
                    <tr style="border-bottom: 1px solid #e0e0e0;">
                        <td style="padding: 10px;">${app.candidate_name}</td>
                        <td style="padding: 10px; font-size: 13px; color: #666;">${app.specializations.join(', ')}</td>
                        <td style="padding: 10px; text-align: center;">${app.experience_years} ${app.experience_years === 1 ? '–≥–æ–¥' : app.experience_years < 5 ? '–≥–æ–¥–∞' : '–ª–µ—Ç'}</td>
                        <td style="padding: 10px; text-align: right; font-weight: 600;">${salary}</td>
                        <td style="padding: 10px; text-align: center; font-weight: 700; color: ${matchColor};">${app.match_score}%</td>
                        <td style="padding: 10px; text-align: center;">
                            <button onclick="downloadResume('${app.resume_filename}')" style="background: #C49A6C; color: white; border: none; padding: 6px 12px; border-radius: 2px; cursor: pointer; font-size: 12px;">
                                –°–∫–∞—á–∞—Ç—å
                            </button>
                        </td>
                    </tr>
                `;
            });

            document.getElementById(modalId + '_tbody').innerHTML = html;
            document.getElementById(modalId + '_count').innerHTML = `–û—Ç–∫–ª–∏–∫–æ–≤: <strong>${filtered.length}</strong> –∏–∑ <strong>${allApplications.length}</strong>`;
        }

        // –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
        let skipAutoLoad = false;
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∫–ª–∏–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä"
        async function showApplicationsInBrowse(vacancyId) {
            try {
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                document.querySelectorAll('[style*="position: fixed"]').forEach(el => el.remove());
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –≤—Å–µ —Ä–µ–∑—é–º–µ
                skipAutoLoad = true;
                
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü—Ä–æ—Å–º–æ—Ç—Ä"
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.tab')[2].classList.add('active');
                document.getElementById('browse').classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                const container = document.getElementById('resumesContainer');
                container.innerHTML = '<div class="section loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ...</p></div>';
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∫–ª–∏–∫–∏
                const response = await fetch(`${API_BASE}/applications?vacancy_id=${vacancyId}`);
                const data = await response.json();
                
                console.log('Applications response:', data);
                
                if (!data.success) {
                    container.innerHTML = `<div class="section"><p style="color: #D00E46;">–û—à–∏–±–∫–∞: ${data.error || '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏'}</p></div>`;
                    skipAutoLoad = false;
                    return;
                }
                
                if (data.applications.length === 0) {
                    container.innerHTML = '<div class="section"><p style="color: #999;">–ù–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é –ø–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤</p></div>';
                    skipAutoLoad = false;
                    return;
                }
                
                // –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è
                const applicationFilenames = data.applications.map(app => app.resume_filename);
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ —Ä–µ–∑—é–º–µ
                const resumesResponse = await fetch(`${API_BASE}/resumes`);
                const resumesData = await resumesResponse.json();
                
                console.log('Resumes response:', resumesData);
                
                if (!resumesData.success) {
                    container.innerHTML = `<div class="section"><p style="color: #D00E46;">–û—à–∏–±–∫–∞: ${resumesData.error || '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—é–º–µ'}</p></div>`;
                    skipAutoLoad = false;
                    return;
                }
                
                // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ–∑—é–º–µ –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è
                const filteredResumes = resumesData.resumes.filter(r => 
                    applicationFilenames.includes(r.filename)
                );
                
                console.log('Filtered resumes:', filteredResumes.length);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞–∫–∞–Ω—Å–∏–∏ –∫ –∫–∞–∂–¥–æ–º—É —Ä–µ–∑—é–º–µ
                const vacanciesResponse = await fetch(`${API_BASE}/vacancies`);
                const vacanciesData = await vacanciesResponse.json();
                const vacancy = vacanciesData.vacancies.find(v => v.id === vacancyId);
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—é–º–µ
                let html = `<div class="section"><h2>–ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—é–º–µ: ${filteredResumes.length}</h2>`;
                html += `<p style="color: #666; margin-bottom: 20px;">–û—Ç–∫–ª–∏–∫–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é: <strong style="color: #D00E46;">${vacancy ? vacancy.title : vacancyId}</strong></p>`;
                
                filteredResumes.forEach(resume => {
                    const salaryInfo = resume.salary_from ? 
                        `<strong>–û–∂–∏–¥–∞–µ–º–∞—è –ó–ü:</strong> ${resume.salary_from.toLocaleString('ru-RU')} ‚ÇΩ<br>` : '';
                    
                    html += `
                        <div class="resume-card">
                            <div class="resume-header">
                                <div class="resume-filename">${resume.filename}</div>
                                <button class="btn-secondary" onclick="downloadResume('${resume.filename}')">–°–∫–∞—á–∞—Ç—å</button>
                            </div>
                            <div class="resume-details">
                                <strong>–û–ø—ã—Ç:</strong> ${resume.experience_years} –ª–µ—Ç<br>
                                ${salaryInfo}
                                <strong>–ù–∞–≤—ã–∫–æ–≤:</strong> ${resume.all_skills.length}<br>
                                <strong style="color: #D00E46;">–í–∞–∫–∞–Ω—Å–∏—è:</strong> ${vacancy ? vacancy.title : vacancyId}
                            </div>
                            <div class="tags">
                                ${resume.specializations.map(s => `<span class="tag">${s}</span>`).join('')}
                                ${resume.all_skills.slice(0, 10).map(s => `<span class="tag">${s}</span>`).join('')}
                                ${resume.all_skills.length > 10 ? `<span class="tag">+${resume.all_skills.length - 10}</span>` : ''}
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
                container.innerHTML = html;
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥
                skipAutoLoad = false;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                const container = document.getElementById('resumesContainer');
                container.innerHTML = `<div class="section"><p style="color: #D00E46;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—é–º–µ: ${error.message}</p></div>`;
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
                skipAutoLoad = false;
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π
        function showAllVacanciesCards() {
            const container = document.getElementById('vacanciesWithApplications');
            const data = window.vacanciesData;
            
            if (!data) {
                console.error('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö');
                return;
            }
            
            let html = '<div class="stats-grid" id="vacanciesDetailView">';
            
            // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
            html += `
                <div class="stat-card" onclick="showVacanciesMainView()" style="border: 2px solid #D00E46; cursor: pointer; background: linear-gradient(135deg, #D00E46 0%, #A00E36 100%); color: white; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
                    <div class="stat-value">‚Üê</div>
                    <div class="stat-label">–ù–∞–∑–∞–¥ –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ</div>
                </div>
            `;
            
            // –í—ã–≤–æ–¥–∏–º –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
            for (const [industry, industryData] of Object.entries(data.industries)) {
                industryData.vacancies.forEach(vac => {
                    html += `
                        <div class="stat-card" onclick="showApplications('${vac.id}', '${vac.title.replace(/'/g, "\\'")}', ${vac.applications_count})" style="cursor: pointer; transition: all 0.3s;" onmouseover="this.style.borderColor='#D00E46'" onmouseout="this.style.borderColor='#e0e0e0'">
                            <div class="stat-value" style="color: #C49A6C;">${vac.applications_count}</div>
                            <div class="stat-label" style="font-size: 14px; line-height: 1.4;">${vac.title}</div>
                            <div style="font-size: 12px; color: #999; margin-top: 5px;">${vac.company}</div>
                        </div>
                    `;
                });
            }
            
            html += '</div>';
            container.innerHTML = html;
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–º—É –≤–∏–¥—É
        function showVacanciesMainView() {
            loadVacanciesWithApplications();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ä–µ–∑—é–º–µ (–æ—Ç–∫–ª–∏–∫–∏)
        async function showAllApplicationsInBrowse() {
            try {
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü—Ä–æ—Å–º–æ—Ç—Ä"
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.tab')[2].classList.add('active');
                document.getElementById('browse').classList.add('active');
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –æ—Ç–∫–ª–∏–∫–∏
                const response = await fetch(`${API_BASE}/applications`);
                const data = await response.json();
                
                if (data.success && data.applications.length > 0) {
                    // –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è
                    const applicationFilenames = data.applications.map(app => app.resume_filename);
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ —Ä–µ–∑—é–º–µ
                    const resumesResponse = await fetch(`${API_BASE}/resumes`);
                    const resumesData = await resumesResponse.json();
                    
                    if (resumesData.success) {
                        // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ–∑—é–º–µ –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è
                        const filteredResumes = resumesData.resumes.filter(r => 
                            applicationFilenames.includes(r.filename)
                        );
                        
                        // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏
                        const vacanciesResponse = await fetch(`${API_BASE}/vacancies`);
                        const vacanciesData = await vacanciesResponse.json();
                        
                        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—é–º–µ
                        const container = document.getElementById('resumesContainer');
                        let html = `<div class="section"><h2>–í—Å–µ –æ—Ç–∫–ª–∏–∫–∏: ${filteredResumes.length}</h2>`;
                        html += `<p style="color: #666; margin-bottom: 20px;">–ü–æ–∫–∞–∑–∞–Ω—ã –≤—Å–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã, –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏–µ—Å—è –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏</p>`;
                        
                        filteredResumes.forEach(resume => {
                            const salaryInfo = resume.salary_from ? 
                                `<strong>–û–∂–∏–¥–∞–µ–º–∞—è –ó–ü:</strong> ${resume.salary_from.toLocaleString('ru-RU')} ‚ÇΩ<br>` : '';
                            
                            // –ù–∞—Ö–æ–¥–∏–º –≤–∞–∫–∞–Ω—Å–∏–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫–ª–∏–∫–Ω—É–ª—Å—è –∫–∞–Ω–¥–∏–¥–∞—Ç
                            const appliedVacancies = data.applications
                                .filter(app => app.resume_filename === resume.filename)
                                .map(app => {
                                    const vacancy = vacanciesData.vacancies.find(v => v.id === app.vacancy_id);
                                    return vacancy ? vacancy.title : app.vacancy_id;
                                });
                            
                            html += `
                                <div class="resume-card">
                                    <div class="resume-header">
                                        <div class="resume-filename">${resume.filename}</div>
                                        <button class="btn-secondary" onclick="downloadResume('${resume.filename}')">–°–∫–∞—á–∞—Ç—å</button>
                                    </div>
                                    <div class="resume-details">
                                        <strong>–û–ø—ã—Ç:</strong> ${resume.experience_years} –ª–µ—Ç<br>
                                        ${salaryInfo}
                                        <strong>–ù–∞–≤—ã–∫–æ–≤:</strong> ${resume.all_skills.length}<br>
                                        <strong style="color: #D00E46;">–í–∞–∫–∞–Ω—Å–∏–∏:</strong> ${appliedVacancies.join(', ')}
                                    </div>
                                    <div class="tags">
                                        ${resume.specializations.map(s => `<span class="tag">${s}</span>`).join('')}
                                    </div>
                                    <div class="tags">
                                        ${resume.all_skills.slice(0, 10).map(s => `<span class="tag">${s}</span>`).join('')}
                                        ${resume.all_skills.length > 10 ? `<span class="tag">+${resume.all_skills.length - 10}</span>` : ''}
                                    </div>
                                </div>
                            `;
                        });
                        
                        html += '</div>';
                        container.innerHTML = html;
                        
                        // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—é–º–µ');
            }
        }

        // –¢–µ–∫—É—â–∞—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞
        let currentLocation = 'all';

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–ª–æ—â–∞–¥–∫–∞–º
        async function filterByLocation(location) {
            currentLocation = location;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.location-tab').forEach(tab => {
                if (tab.dataset.location === location) {
                    tab.style.color = '#D00E46';
                    tab.style.fontWeight = '700';
                    tab.style.borderBottom = '3px solid #D00E46';
                    tab.classList.add('active');
                } else {
                    tab.style.color = '#999';
                    tab.style.fontWeight = '400';
                    tab.style.borderBottom = '3px solid transparent';
                    tab.classList.remove('active');
                }
            });

            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–ª–æ—â–∞–¥–∫–µ
            await loadLocationStats(location);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –ø–ª–æ—â–∞–¥–∫–µ
        async function loadLocationStats(location) {
            const container = document.getElementById('locationStats');
            container.innerHTML = '<div class="loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>';

            try {
                const response = await fetch(`${API_BASE}/vacancies`);
                const data = await response.json();

                if (data.success && data.vacancies) {
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –ø–ª–æ—â–∞–¥–∫–µ
                    let filteredVacancies = data.vacancies;
                    if (location !== 'all') {
                        filteredVacancies = data.vacancies.filter(v => v.location === location);
                    }

                    // –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    const companies = new Set();
                    const specializations = new Set();
                    let internships = 0;

                    filteredVacancies.forEach(vac => {
                        companies.add(vac.company);
                        specializations.add(vac.specialization);
                        if (vac.is_internship) internships++;
                    });

                    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º
                    const specStats = {};
                    filteredVacancies.forEach(vac => {
                        const spec = vac.specialization;
                        if (!specStats[spec]) {
                            specStats[spec] = 0;
                        }
                        specStats[spec]++;
                    });

                    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É
                    const sortedSpecs = Object.entries(specStats)
                        .sort((a, b) => b[1] - a[1])
                        .slice(0, 10);

                    // –§–æ—Ä–º–∏—Ä—É–µ–º HTML
                    let html = '<div style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px;">';
                    
                    // –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    html += '<div>';
                    html += '<h3 style="margin-bottom: 20px; color: #4D4D4F;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞' + (location !== 'all' ? ` - ${location}` : '') + '</h3>';
                    html += '<div style="display: flex; flex-direction: column; gap: 15px;">';
                    
                    html += `
                        <div class="stat-card" style="padding: 15px; text-align: center; background: #f9f9f9;">
                            <div class="stat-value" style="font-size: 2.5em; color: #D00E46; margin-bottom: 5px;">${filteredVacancies.length}</div>
                            <div class="stat-label" style="color: #4D4D4F; font-size: 0.85em;">–í–∞–∫–∞–Ω—Å–∏–π</div>
                        </div>
                        <div class="stat-card" style="padding: 15px; text-align: center; background: #f9f9f9;">
                            <div class="stat-value" style="font-size: 2.5em; color: #C49A6C; margin-bottom: 5px;">${companies.size}</div>
                            <div class="stat-label" style="color: #4D4D4F; font-size: 0.85em;">–ö–æ–º–ø–∞–Ω–∏–π</div>
                        </div>
                        <div class="stat-card" style="padding: 15px; text-align: center; background: #f9f9f9;">
                            <div class="stat-value" style="font-size: 2.5em; color: #4D4D4F; margin-bottom: 5px;">${specializations.size}</div>
                            <div class="stat-label" style="color: #4D4D4F; font-size: 0.85em;">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π</div>
                        </div>
                        <div class="stat-card" style="padding: 15px; text-align: center; background: #f9f9f9;">
                            <div class="stat-value" style="font-size: 2.5em; color: #4D4D4F; margin-bottom: 5px;">${internships}</div>
                            <div class="stat-label" style="color: #4D4D4F; font-size: 0.85em;">–°—Ç–∞–∂–∏—Ä–æ–≤–æ–∫</div>
                        </div>
                    `;
                    
                    html += '</div></div>';

                    // –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - —Ç–æ–ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π
                    html += '<div>';
                    html += '<h3 style="margin-bottom: 20px; color: #4D4D4F;">–¢–æ–ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π</h3>';
                    html += '<table style="width: 100%; border-collapse: collapse;">';
                    html += '<tr style="background: #f5f5f5; font-weight: 700;"><th style="padding: 10px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</th><th style="padding: 10px; text-align: center;">–í–∞–∫–∞–Ω—Å–∏–π</th></tr>';
                    
                    sortedSpecs.forEach(([spec, count]) => {
                        html += `
                            <tr style="border-bottom: 1px solid #e0e0e0; cursor: pointer; transition: background 0.2s;" 
                                onmouseover="this.style.background='#f5f5f5'" 
                                onmouseout="this.style.background='white'"
                                onclick="filterBySpecialization('${spec.replace(/'/g, "\\'")}')">
                                <td style="padding: 10px;">${spec}</td>
                                <td style="padding: 10px; text-align: center; font-weight: 700; color: #D00E46;">${count}</td>
                            </tr>
                        `;
                    });
                    
                    html += '</table></div>';
                    html += '</div>';

                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<div class="error">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö</div>';
                }
            } catch (error) {
                container.innerHTML = `<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</div>`;
            }
        }

        // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        function loadSalaryStats() {
            filterByLocation('all'); // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º –ø–ª–æ—â–∞–¥–∫–∞–º
            loadVacancySalaryStats();
            loadCandidateSalaryStats();
            loadVacanciesWithApplications();
        }

        // –°–∫–æ—Ä–∏–Ω–≥ —Ä–µ–∑—é–º–µ
        async function scoreResumes() {
            const vacancyText = document.getElementById('vacancyText').value;
            const resultsContainer = document.getElementById('scoringResults');

            if (!vacancyText.trim()) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–∏');
                return;
            }

            resultsContainer.innerHTML = '<div class="section loading"><div class="spinner"></div><p>–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ...</p></div>';

            try {
                const response = await fetch(`${API_BASE}/score`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ vacancy_text: vacancyText })
                });

                const data = await response.json();

                if (data.success) {
                    displayScoringResults(data);
                } else {
                    resultsContainer.innerHTML = `<div class="section"><div class="error">${data.error}</div></div>`;
                }
            } catch (error) {
                resultsContainer.innerHTML = `<div class="section"><div class="error">${error.message}</div></div>`;
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
        function displayScoringResults(data) {
            const container = document.getElementById('scoringResults');
            const stats = data.category_statistics;

            let html = `
                <div class="section">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" style="color: #38ef7d">${stats.excellent}</div>
                            <div class="stat-label">–û—Ç–ª–∏—á–Ω—ã–µ (80%+)</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #19547b">${stats.good}</div>
                            <div class="stat-label">–•–æ—Ä–æ—à–∏–µ (60-80%)</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #f5576c">${stats.average}</div>
                            <div class="stat-label">–°—Ä–µ–¥–Ω–∏–µ (40-60%)</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #b31217">${stats.poor}</div>
                            <div class="stat-label">–°–ª–∞–±—ã–µ (<40%)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>üèÜ –¢–æ–ø –∫–∞–Ω–¥–∏–¥–∞—Ç—ã</h2>
            `;

            data.ranked_resumes.slice(0, 20).forEach((resume, idx) => {
                const scoreClass = `score-${resume.category}`;
                html += `
                    <div class="resume-card">
                        <div class="resume-header">
                            <div>
                                <span style="color: #999; font-size: 1.2em; margin-right: 10px;">#${idx + 1}</span>
                                <span class="resume-filename">${resume.resume_filename}</span>
                            </div>
                            <span class="score-badge ${scoreClass}">${resume.total_score}%</span>
                        </div>
                        <div class="explanation">${resume.explanation}</div>
                        <div class="resume-details">
                            <strong>–î–µ—Ç–∞–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞:</strong><br>
                            –ù–∞–≤—ã–∫–∏: ${resume.components.skills_score}% | 
                            –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ: ${resume.components.text_similarity}% | 
                            –û–ø—ã—Ç: ${resume.components.experience_score}%
                        </div>
                        <div class="tags">
                            ${resume.resume_data.specializations.map(s => `<span class="tag">${s}</span>`).join('')}
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            container.innerHTML = html;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ
        async function loadResumes() {
            const container = document.getElementById('resumesList');
            container.innerHTML = '<div class="section loading"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>';

            const spec = document.getElementById('filterSpec').value;
            const skill = document.getElementById('filterSkill').value;
            const exp = document.getElementById('filterExp').value;
            const salary = document.getElementById('filterSalary').value;

            let url = `${API_BASE}/resumes?`;
            if (spec) url += `specialization=${spec}&`;
            if (skill) url += `skill=${skill}&`;
            if (exp) url += `min_experience=${exp}&`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (data.success) {
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
                    let resumes = data.resumes;
                    if (salary && salary > 0) {
                        resumes = resumes.filter(r => r.salary_from && r.salary_from >= parseInt(salary));
                    }

                    let html = `<div class="section"><h2>–ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—é–º–µ: ${resumes.length}</h2>`;

                    resumes.forEach(resume => {
                        const salaryInfo = resume.salary_from ? 
                            `<strong>–û–∂–∏–¥–∞–µ–º–∞—è –ó–ü:</strong> ${resume.salary_from.toLocaleString('ru-RU')} ‚ÇΩ<br>` : '';
                        
                        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫–ª–∏–∫–Ω—É–ª—Å—è –∫–∞–Ω–¥–∏–¥–∞—Ç
                        let vacanciesInfo = '';
                        if (resume.applied_vacancies && resume.applied_vacancies.length > 0) {
                            vacanciesInfo = '<strong style="color: #D00E46;">–û—Ç–∫–ª–∏–∫–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏:</strong><br>';
                            resume.applied_vacancies.forEach(vac => {
                                vacanciesInfo += `<span style="font-size: 13px; color: #666;">‚Ä¢ ${vac.title} (${vac.company}) - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ${vac.match_score}%</span><br>`;
                            });
                        }
                        
                        html += `
                            <div class="resume-card">
                                <div class="resume-header">
                                    <div class="resume-filename">${resume.filename}</div>
                                    <button class="btn-secondary" onclick="downloadResume('${resume.filename}')">–°–∫–∞—á–∞—Ç—å</button>
                                </div>
                                <div class="resume-details">
                                    <strong>–û–ø—ã—Ç:</strong> ${resume.experience_years} –ª–µ—Ç<br>
                                    ${salaryInfo}
                                    <strong>–ù–∞–≤—ã–∫–æ–≤:</strong> ${resume.all_skills.length}<br>
                                    ${vacanciesInfo}
                                </div>
                                <div class="tags">
                                    ${resume.specializations.map(s => `<span class="tag">${s}</span>`).join('')}
                                </div>
                                <div class="tags">
                                    ${resume.all_skills.slice(0, 10).map(s => `<span class="tag">${s}</span>`).join('')}
                                    ${resume.all_skills.length > 10 ? `<span class="tag">+${resume.all_skills.length - 10}</span>` : ''}
                                </div>
                            </div>
                        `;
                    });

                    html += '</div>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = `<div class="section"><div class="error">${data.error}</div></div>`;
                }
            } catch (error) {
                container.innerHTML = `<div class="section"><div class="error">${error.message}</div></div>`;
            }
        }

        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ
        function downloadResume(filename) {
            window.location.href = `${API_BASE}/resume/download/${filename}`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–∫–ª–∏–∫–∞
        async function updateApplicationStatus(applicationId, newStatus, selectElement) {
            try {
                const response = await fetch(`${API_BASE}/applications/${applicationId}/status`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ status: newStatus })
                });

                const data = await response.json();

                if (data.success) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
                    if (selectElement) {
                        selectElement.className = `status-select ${newStatus}`;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∞—Ö
                    await loadCompaniesStats();
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç—É—Å–∞, –µ—Å–ª–∏ –æ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ
                    const statusModals = document.querySelectorAll('[id^="modal_status_"]');
                    statusModals.forEach(modal => modal.remove());
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                    console.log(`–°—Ç–∞—Ç—É—Å –æ—Ç–∫–ª–∏–∫–∞ ${applicationId} –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ ${newStatus}`);
                } else {
                    alert('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞: ' + data.error);
                    // –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ select
                    if (selectElement && selectElement.dataset.oldValue) {
                        selectElement.value = selectElement.dataset.oldValue;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞');
                // –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ select
                if (selectElement && selectElement.dataset.oldValue) {
                    selectElement.value = selectElement.dataset.oldValue;
                }
            }
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        function exportData(format) {
            window.location.href = `${API_BASE}/export/${format}?type=parsed`;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∫–ª–∏–∫–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
        async function showApplicationsByStatus(status, title) {
            try {
                const response = await fetch(`${API_BASE}/applications`);
                const data = await response.json();

                if (data.success) {
                    // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ —Å—Ç–∞—Ç—É—Å—É
                    let filtered = data.applications;
                    if (status !== 'all') {
                        filtered = data.applications.filter(app => app.status === status);
                    }

                    if (filtered.length === 0) {
                        alert(`–ù–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "${title}"`);
                        return;
                    }

                    const modalId = 'modal_status_' + status;
                    
                    let html = `
                        <div id="${modalId}" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000; display: flex; align-items: center; justify-content: center;" onclick="this.remove();">
                            <div style="background: white; padding: 30px; border-radius: 4px; max-width: 1200px; max-height: 80vh; overflow-y: auto; width: 90%;" onclick="event.stopPropagation()">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h2 style="color: #D00E46; margin: 0;">${title}</h2>
                                    <button onclick="this.closest('[style*=fixed]').remove();" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
                                </div>
                                
                                <p style="color: #666; margin-bottom: 20px;">–ù–∞–π–¥–µ–Ω–æ –æ—Ç–∫–ª–∏–∫–æ–≤: <strong>${filtered.length}</strong></p>
                                
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="background: #f5f5f5; border-bottom: 2px solid #D00E46;">
                                            <th style="padding: 10px; text-align: left;">–ö–∞–Ω–¥–∏–¥–∞—Ç</th>
                                            <th style="padding: 10px; text-align: left;">–í–∞–∫–∞–Ω—Å–∏—è</th>
                                            <th style="padding: 10px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</th>
                                            <th style="padding: 10px; text-align: center;">–û–ø—ã—Ç</th>
                                            <th style="padding: 10px; text-align: right;">–ó–∞—Ä–ø–ª–∞—Ç–∞</th>
                                            <th style="padding: 10px; text-align: center;">–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ</th>
                                            <th style="padding: 10px; text-align: center; width: 200px;">–°—Ç–∞—Ç—É—Å</th>
                                            <th style="padding: 10px; text-align: center;">–†–µ–∑—é–º–µ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                    `;

                    filtered.forEach(app => {
                        const salary = app.salary_from ? `${app.salary_from.toLocaleString('ru-RU')} ‚ÇΩ` : '–ù–µ —É–∫–∞–∑–∞–Ω–∞';
                        const matchColor = app.match_score >= 80 ? '#4CAF50' : app.match_score >= 60 ? '#C49A6C' : '#999';
                        const currentStatus = app.status || 'new';
                        
                        html += `
                            <tr style="border-bottom: 1px solid #e0e0e0;">
                                <td style="padding: 10px;">${app.candidate_name}</td>
                                <td style="padding: 10px; font-size: 13px;"><strong>${app.vacancy_title}</strong><br><span style="color: #666;">${app.company}</span></td>
                                <td style="padding: 10px; font-size: 13px; color: #666;">${app.specializations.join(', ')}</td>
                                <td style="padding: 10px; text-align: center;">${app.experience_years} ${app.experience_years === 1 ? '–≥–æ–¥' : app.experience_years < 5 ? '–≥–æ–¥–∞' : '–ª–µ—Ç'}</td>
                                <td style="padding: 10px; text-align: right; font-weight: 600;">${salary}</td>
                                <td style="padding: 10px; text-align: center; font-weight: 700; color: ${matchColor};">${app.match_score}%</td>
                                <td style="padding: 10px; text-align: center;">
                                    <select class="status-select ${currentStatus}" onchange="updateApplicationStatus('${app.id}', this.value, this)">
                                        <option value="new" ${currentStatus === 'new' ? 'selected' : ''}>üîµ –ù–æ–≤—ã–π</option>
                                        <option value="in_review" ${currentStatus === 'in_review' ? 'selected' : ''}>üü† –í —Ä–∞–±–æ—Ç–µ</option>
                                        <option value="accepted" ${currentStatus === 'accepted' ? 'selected' : ''}>üü¢ –ü—Ä–∏–Ω—è—Ç</option>
                                        <option value="rejected" ${currentStatus === 'rejected' ? 'selected' : ''}>üî¥ –û—Ç–∫–∞–∑</option>
                                    </select>
                                </td>
                                <td style="padding: 10px; text-align: center;">
                                    <button onclick="downloadResume('${app.resume_filename}')" style="background: #C49A6C; color: white; border: none; padding: 6px 12px; border-radius: 2px; cursor: pointer; font-size: 12px;">
                                        –°–∫–∞—á–∞—Ç—å
                                    </button>
                                </td>
                            </tr>
                        `;
                    });

                    html += `
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    `;

                    document.body.insertAdjacentHTML('beforeend', html);
                } else {
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∫–ª–∏–∫–æ–≤:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∫–ª–∏–∫–æ–≤');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—â–µ–≥–æ –±–∞–Ω–∫–∞ —Ä–µ–∑—é–º–µ
        async function loadGeneralPool() {
            const source = document.getElementById('poolFilterSource')?.value || '';
            const spec = document.getElementById('poolFilterSpec')?.value || '';
            
            let url = `${API_BASE}/general-pool?`;
            if (source) url += `source=${encodeURIComponent(source)}&`;
            if (spec) url += `specialization=${encodeURIComponent(spec)}`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.success) {
                    const pool = data.pool || [];
                    const container = document.getElementById('poolList');
                    
                    if (pool.length === 0) {
                        container.innerHTML = '<p style="color: #999; padding: 20px;">–ù–µ—Ç —Ä–µ–∑—é–º–µ –≤ –æ–±—â–µ–º –±–∞–Ω–∫–µ</p>';
                        return;
                    }

                    let html = '<table style="width: 100%; border-collapse: collapse;">';
                    html += '<thead><tr style="background: #f5f5f5; border-bottom: 2px solid #D00E46;">';
                    html += '<th style="padding: 12px; text-align: left;">–ö–∞–Ω–¥–∏–¥–∞—Ç</th>';
                    html += '<th style="padding: 12px; text-align: left;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</th>';
                    html += '<th style="padding: 12px; text-align: center;">–û–ø—ã—Ç</th>';
                    html += '<th style="padding: 12px; text-align: right;">–ó–∞—Ä–ø–ª–∞—Ç–∞</th>';
                    html += '<th style="padding: 12px; text-align: center;">–ò—Å—Ç–æ—á–Ω–∏–∫</th>';
                    html += '<th style="padding: 12px; text-align: center;">–î–∞—Ç–∞</th>';
                    html += '<th style="padding: 12px; text-align: center;">–î–µ–π—Å—Ç–≤–∏—è</th>';
                    html += '</tr></thead><tbody>';

                    pool.forEach(resume => {
                        const source = resume.source === 'email' ? 'Email' : '–û—Ç–∫–∞–∑';
                        const sourceColor = resume.source === 'email' ? '#2196F3' : '#F44336';
                        const date = new Date(resume.received_at || resume.rejection_date).toLocaleDateString('ru-RU');
                        const salary = resume.salary_from ? `${resume.salary_from.toLocaleString('ru-RU')} ‚ÇΩ` : '‚Äî';
                        const name = resume.filename.split('_').slice(1, -1).join(' ');
                        const specs = (resume.specializations || []).join(', ');
                        
                        html += '<tr style="border-bottom: 1px solid #e0e0e0;">';
                        html += `<td style="padding: 12px;"><strong>${name}</strong></td>`;
                        html += `<td style="padding: 12px; color: #666; font-size: 0.9em;">${specs}</td>`;
                        html += `<td style="padding: 12px; text-align: center;">${resume.experience_years || 0} –ª–µ—Ç</td>`;
                        html += `<td style="padding: 12px; text-align: right; font-weight: 600;">${salary}</td>`;
                        html += `<td style="padding: 12px; text-align: center;"><span style="background: ${sourceColor}; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.85em;">${source}</span></td>`;
                        html += `<td style="padding: 12px; text-align: center; color: #999; font-size: 0.9em;">${date}</td>`;
                        html += `<td style="padding: 12px; text-align: center;"><a href="/api/resume/download/${resume.filename}" style="background: #C49A6C; color: white; padding: 6px 14px; border-radius: 4px; text-decoration: none; font-size: 0.85em;" target="_blank">–°–∫–∞—á–∞—Ç—å</a></td>`;
                        html += '</tr>';
                    });

                    html += '</tbody></table>';
                    html += `<p style="margin-top: 20px; color: #666;">–í—Å–µ–≥–æ —Ä–µ–∑—é–º–µ –≤ –±–∞–Ω–∫–µ: <strong>${pool.length}</strong> (–∏–∑ ${data.total_all})</p>`;
                    container.innerHTML = html;
                } else {
                    document.getElementById('poolList').innerHTML = '<p style="color: red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('poolList').innerHTML = '<p style="color: red;">–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º
        async function loadCompaniesStats() {
            try {
                const response = await fetch(`${API_BASE}/applications/stats/all`);
                const data = await response.json();
                
                if (data.success) {
                    const companies = data.companies || [];
                    const totalStats = data.total_stats || {};
                    const container = document.getElementById('companiesStats');
                    
                    if (companies.length === 0) {
                        container.innerHTML = '<p style="color: #999; padding: 20px;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>';
                        return;
                    }

                    let html = '<div style="background: #f8f8f8; padding: 20px; border-radius: 4px; margin-bottom: 20px;">';
                    html += '<h3 style="margin-bottom: 15px; color: #D00E46;">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>';
                    html += '<div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px;">';
                    html += `<div style="text-align: center; cursor: pointer; padding: 15px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.background='rgba(208,14,70,0.05)'" onmouseout="this.style.background='transparent'" onclick="showApplicationsByStatus('all', '–í—Å–µ –æ—Ç–∫–ª–∏–∫–∏')"><div style="font-size: 2em; font-weight: 700; color: #D00E46;">${totalStats.total || 0}</div><div style="color: #666; font-size: 0.9em;">–í—Å–µ–≥–æ –æ—Ç–∫–ª–∏–∫–æ–≤</div></div>`;
                    html += `<div style="text-align: center; cursor: pointer; padding: 15px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.background='rgba(33,150,243,0.05)'" onmouseout="this.style.background='transparent'" onclick="showApplicationsByStatus('new', '–ù–æ–≤—ã–µ –æ—Ç–∫–ª–∏–∫–∏')"><div style="font-size: 2em; font-weight: 700; color: #2196F3;">${totalStats.new || 0}</div><div style="color: #666; font-size: 0.9em;">–ù–æ–≤—ã—Ö</div></div>`;
                    html += `<div style="text-align: center; cursor: pointer; padding: 15px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.background='rgba(255,152,0,0.05)'" onmouseout="this.style.background='transparent'" onclick="showApplicationsByStatus('in_review', '–û—Ç–∫–ª–∏–∫–∏ –≤ —Ä–∞–±–æ—Ç–µ')"><div style="font-size: 2em; font-weight: 700; color: #FF9800;">${totalStats.in_review || 0}</div><div style="color: #666; font-size: 0.9em;">–í —Ä–∞–±–æ—Ç–µ</div></div>`;
                    html += `<div style="text-align: center; cursor: pointer; padding: 15px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.background='rgba(76,175,80,0.05)'" onmouseout="this.style.background='transparent'" onclick="showApplicationsByStatus('accepted', '–ü—Ä–∏–Ω—è—Ç—ã–µ –æ—Ç–∫–ª–∏–∫–∏')"><div style="font-size: 2em; font-weight: 700; color: #4CAF50;">${totalStats.accepted || 0}</div><div style="color: #666; font-size: 0.9em;">–ü—Ä–∏–Ω—è—Ç–æ</div></div>`;
                    html += `<div style="text-align: center; cursor: pointer; padding: 15px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.background='rgba(244,67,54,0.05)'" onmouseout="this.style.background='transparent'" onclick="showApplicationsByStatus('rejected', '–û—Ç–∫–∞–∑—ã')"><div style="font-size: 2em; font-weight: 700; color: #F44336;">${totalStats.rejected || 0}</div><div style="color: #666; font-size: 0.9em;">–û—Ç–∫–∞–∑–æ–≤</div></div>`;
                    html += '</div></div>';

                    html += '<table style="width: 100%; border-collapse: collapse;">';
                    html += '<thead><tr style="background: #f5f5f5; border-bottom: 2px solid #D00E46;">';
                    html += '<th style="padding: 12px; text-align: left;">–ö–æ–º–ø–∞–Ω–∏—è</th>';
                    html += '<th style="padding: 12px; text-align: center;">–í—Å–µ–≥–æ</th>';
                    html += '<th style="padding: 12px; text-align: center;">–ù–æ–≤—ã—Ö</th>';
                    html += '<th style="padding: 12px; text-align: center;">–í —Ä–∞–±–æ—Ç–µ</th>';
                    html += '<th style="padding: 12px; text-align: center;">–ü—Ä–∏–Ω—è—Ç–æ</th>';
                    html += '<th style="padding: 12px; text-align: center;">–û—Ç–∫–∞–∑–æ–≤</th>';
                    html += '</tr></thead><tbody>';

                    companies.forEach(company => {
                        html += '<tr style="border-bottom: 1px solid #e0e0e0;">';
                        html += `<td style="padding: 12px;"><strong>${company.company}</strong></td>`;
                        html += `<td style="padding: 12px; text-align: center; font-weight: 600;">${company.total}</td>`;
                        html += `<td style="padding: 12px; text-align: center; color: #2196F3;">${company.new}</td>`;
                        html += `<td style="padding: 12px; text-align: center; color: #FF9800;">${company.in_review}</td>`;
                        html += `<td style="padding: 12px; text-align: center; color: #4CAF50;">${company.accepted}</td>`;
                        html += `<td style="padding: 12px; text-align: center; color: #F44336;">${company.rejected}</td>`;
                        html += '</tr>';
                    });

                    html += '</tbody></table>';
                    container.innerHTML = html;
                } else {
                    document.getElementById('companiesStats').innerHTML = '<p style="color: red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('companiesStats').innerHTML = '<p style="color: red;">–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>';
            }
        }

        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.addEventListener('load', () => {
            loadStatistics();
            loadSalaryStats();
            loadSkillsCloud();
        });
    </script>
</body>
</html>
