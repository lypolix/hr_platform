# HR Platform

## Описание

**HR Platform Mosprom** — модульная цифровая платформа для автоматизации процессов рекрутинга, стажировок и взаимодействия между компаниями, университетами и администрацией. Решение помогает бизнесу привлекать молодых специалистов, выстраивать прозрачную аналитику по вакансиям и откликам, контролировать эффективность рекрутинга и быть готовым к интеграции с государственными цифровыми инициативами.

---

## Преимущества и польза для бизнеса

- **Автоматизация подбора и стажировок:** Уменьшает время и затраты HR-отделов, освобождая ресурсы для стратегических задач.
- **Удобный кабинет для компаний/университетов/админов:** Прозрачная модерация, отслеживание статусов вакансий и откликов.
- **Продвинутая аналитика:** Возможность выгрузки KPI по воронкам, каналам откликов, эффективности программ стажировок.
- **Интеграция с образовательными учреждениями:** Повышает скорость коммуникации, позволяет развивать кадровый резерв.
- **Простая интеграция и масштабирование:** Микросервисная архитектура, отказоустойчивость.

---

## Возможности

- Регистрация и аутентификация (JWT, secure)
- Роли: Компании, Университеты, Администратор (ОЭЗ)
- Размещение вакансий, заявок, стажировок
- Гибкая модерируемая система откликов
- Личные кабинеты для всех ролей
- Модерация и редактирование вакансий/заявок
- Фильтрация, поиск (backend API)
- Продвинутая аналитика (отдельный сервис/ветка)
- Система прав и разграничение доступа (RBAC)
- REST API и публичные эндпоинты
- Frontend SPA (Next.js, отдельная ветка)
- CI/CD, Docker-окружение (для быстрого старта и развёртывания)

---

## Технологический стек

| Слой         | Технологии                                |
|--------------|-------------------------------------------|
| Backend      | Golang, Gin, Hexagonal Architecture, JWT, SQLC|
| Data Storage | PostgreSQL, SQLC-migrations                |
| API Gateway  | REST, Gin                                 |
| DevOps       | Docker, Docker Compose, Makefile, CI/CD   |
| Frontend     | Next.js (React), Redux, Ant Design        |
| Analytics    | PowerBI/Metabase/Custom dashboard         |
| Мониторинг   | Grafana, Prometheus (планируется)         |
| Тестирование | Go test, Postman, линтеры, mock           |

---

## Архитектурные паттерны и принципы

- **Clean Architecture (Hexagonal):**
    - Четкое разделение core(domain), application(port/service), adapter (infrastructure)
    - Легкость расширения и интеграции новых endpoint/ролей/модулей
- **SOLID, KISS, DRY:** строгие подходы к качеству и сопровождению кода
- **CQRS:** компоновка на сервисах для лёгкой поддержки масштабирования (где применимо)
- **DDD:** бизнес-энтити вынесены в отдельные неизменяемые структуры, никакой бизнес-логики во внешних слоях
- **RBAC:** разграничение прав на уровне middleware и сервисов
- **Тестируемость:** интерфейсы и абстракции для unit/integration тестов

---

## Схема работы приложения

- Запуск `docker-compose up` поднимает dev-окружение с БД, pgadmin, backend.
- Фронтенд и аналитика — отдельные сервисы/ветки (см. branches: `analytics`, `frontend`).
- Миграции: автоматические или через sqlc/psql из папки `/server/migrations`.
- Все роли используют JWT-аутентификацию через middleware gin.
- Каждый бизнес-юнит (вакансия, отклик, стажировка) реализован отдельной domain/model.
- API сгруппированы по ролям и сценариям использования.

---

## Эндпоинты

| Метод | URL                                 | Описание                | Роль/Доступ           |
|-------|-------------------------------------|-------------------------|-----------------------|
| POST  | /companies/sign-up                  | Регистрация компании    | Публично              |
| POST  | /companies/sign-in                  | Вход компании           | Публично              |
| GET   | /companies/me                       | Профиль компании        | Company (JWT)         |
| PUT   | /companies/me                       | Редактировать профиль   | Company (JWT)         |
| POST  | /vacancies                          | Создать вакансию        | Company (JWT)         |
| GET   | /vacancies/my                       | Мои вакансии            | Company (JWT)         |
| GET   | /vacancies/:id                      | Вакансия (детали)       | Company (JWT)         |
| PUT   | /vacancies/:id                      | Редактировать вакансию  | Company (JWT)         |
| DELETE| /vacancies/:id                      | Деактивация вакансии    | Company (JWT)         |
| POST  | /responses                          | Отклик на вакансию      | Публично              |
| GET   | /responses/vacancy/:vacancyId       | Отклики по вакансии     | Company (JWT)         |
| PUT   | /responses/:id/status               | Изменить статус отклика | Company (JWT)         |
| POST  | /universities/sign-up               | Регистрация вуза        | Публично              |
| POST  | /universities/sign-in               | Вход вуза               | Публично              |
| POST  | /admin/companies/:id/approve        | Одобрить компанию       | Админ                 |
| POST  | /admin/universities/:id/confirm     | Подтвердить вуз         | Админ                 |
| GET   | /public/vacancies                   | Каталог вакансий        | Публично              |
| GET   | /public/vacancies/:id               | Детали вакансии         | Публично              |
| GET   | /health                             | Healthchecker           | Публично              |

---

## Как запустить

1. Клонируйте репозиторий
```  
git clone https://github.com/D1scoB0y/hr-platform-mosprom.git
cd hr-platform-mosprom
```

3. Применить миграции, если руками:
```
psql -U postgres -d hr_platform < server/migrations/001_init.sql
```

4. (Рекомендуется) Запуск всего окружения
```
docker-compose -f docker-compose.dev.yml up --build
```

6. (Для dev) Запуск бэка отдельно, если нужно:
```
cd server
go mod tidy
go run cmd/app/main.go
```

8. Миграции и обновление SQLC
```
sqlc generate
```

9. Фронтенд и аналитика — см. ветки frontend, analytics (отдельная инструкция)
   
---

## Frontend (SPA)

- **Технологии:** Next.js, Ant Design, Redux Toolkit, TypeScript, axios
- **Поддержка всех ролей:** отдельные панели для компаний, вузов, администраторов
- **Аналитика в реальном времени:** диаграммы, дашборды, выгрузка данных
- **Адаптивная верстка:** работает на десктопе и мобильных устройствах
- **Доступен в ветке `frontend`**

## Analytics (Дашборды)

- **Метрики:** конверсия в отклик, время закрытия вакансии, топ-вузы/компании, эффективность программ стажировок
- **Интеграция с фреймворками PowerBI / Metabase / Custom React Dashboard**
- **Гибкая настройка ролей, построение кастомных отчетов**
- **Доступен в ветке `analytics`**

---

## Примеры бизнес-сценариев

- Компания размещает вакансию, просматривает отклики, приглашает на собеседование, быстро формирует отчетность для топ-менеджмента.
- Университет быстро обрабатывает заявки на стажировки, получает аналитику об интересе студентов к программам компаний-резидентов.
- Администратор модерирует, анализирует эффективность всех участников экосистемы в единой системе.
